<!DOCTYPE html><html><head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.7.28">
  <title>Variable Substitution</title>
  <meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7">
  <link rel="HOME" title="Advanced Bash-Scripting Guide" href="index.html">
  <link rel="UP" title="Introduction to Variables and Parameters" href="variables.html">
  <link rel="PREVIOUS" title="Introduction to Variables and Parameters" href="variables.html">
  <link rel="NEXT" title="Variable Assignment" href="varassignment.html">
<link rel="stylesheet" href="styles/custom.css"><link rel="stylesheet" href="styles/atom-one-dark.css"><script>
    document.addEventListener('DOMContentLoaded', () => {
      const manuallySetTheme = localStorage.getItem('bash-guide-theme');

      if (manuallySetTheme === 'dark') document.body.classList.add('dark-mode');
      else if (manuallySetTheme === 'light') document.body.classList.remove('dark-mode');
      else if (matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark-mode');
      }

      document.getElementById('theme-toggle').addEventListener(
        'click',
        () => {
          const isSet = document.body.classList.toggle('dark-mode');
          localStorage.setItem('bash-guide-theme', isSet ? 'dark' : 'light');
        }
      );
    });
  </script></head>
<body class="SECT1" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084" alink="#0000FF">
  <div class="NAVHEADER">
    <table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tbody><tr>
        <th colspan="3" align="center">Advanced Bash-Scripting Guide:</th>
      </tr>
      <tr>
        <td width="10%" align="left" valign="bottom"><a href="variables.html" accesskey="P">Prev</a></td>
        <td width="80%" align="center" valign="bottom">Chapter 4. Introduction to Variables and Parameters</td>
        <td width="10%" align="right" valign="bottom"><a href="varassignment.html" accesskey="N">Next</a></td>
      </tr>
    </tbody></table>
    <hr align="left" width="100%">
  </div>
  <div class="SECT1">
    <h1 class="SECT1"><a name="VARSUBN" id="VARSUBN"></a>4.1. Variable Substitution</h1>
    <p>The <i class="FIRSTTERM">name</i> of a variable is a placeholder for its <i class="FIRSTTERM">value</i>, the data it holds. Referencing (retrieving) its value is called <i class="FIRSTTERM">variable substitution</i>.</p>
    <div class="VARIABLELIST">
      <dl>
        <dt><span class="TOKEN">$</span></dt>
        <dd>
          <p><a name="VARNAMEVAL" id="VARNAMEVAL"></a></p>
          <p>Let us carefully distinguish between the <i class="FIRSTTERM">name</i> of a variable and its <i class="FIRSTTERM">value</i>. If <tt class="USERINPUT"><b>variable1</b></tt> is the name of a variable, then <tt class="USERINPUT"><b>$variable1</b></tt> is a reference to its <i class="FIRSTTERM">value</i>, the data item it contains. <a name="AEN2258" href="#FTN.AEN2258" id="AEN2258"><span class="footnote">[1]</span></a></p>
          <table border="1" bgcolor="#E0E0E0" width="90%" class="no-border">
            <tbody><tr>
              <td>
                <pre class="SCREEN hljs"><span class="hljs-meta">bash$</span><span class="bash"> variable1=23</span>
<span class="hljs-meta">

bash$</span><span class="bash"> <span class="hljs-built_in">echo</span> variable1</span>
variable1
<span class="hljs-meta">
bash$</span><span class="bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$variable1</span></span>
23</pre>
              </td>
            </tr>
          </tbody></table>
          <p>The only times a variable appears <span class="QUOTE">"naked"</span> -- without the <span class="TOKEN">$</span> prefix -- is when declared or assigned, when <i class="FIRSTTERM">unset</i>, when <a href="internal.html#EXPORTREF">exported</a>, in an arithmetic expression within <a href="dblparens.html">double parentheses (( ... ))</a>, or in the special case of a variable representing a <a href="debugging.html#SIGNALD">signal</a> (see <a href="debugging.html#EX76">Example 32-5</a>). Assignment may be with an <span class="TOKEN">=</span> (as in <tt class="PARAMETER"><i>var1=27</i></tt>), in a <a href="internal.html#READREF">read</a> statement, and at the head of a loop (<tt class="PARAMETER"><i>for var2 in 1 2 3</i></tt>).</p>
          <p><a name="DBLQUO" id="DBLQUO"></a>Enclosing a referenced value in <i class="FIRSTTERM">double quotes</i> (<span class="TOKEN">" ... "</span>) does not interfere with variable substitution. This is called <i class="FIRSTTERM">partial quoting</i>, sometimes referred to as <span class="QUOTE">"weak quoting."</span> <a name="SNGLQUO" id="SNGLQUO"></a>Using single quotes (<span class="TOKEN">' ... '</span>) causes the variable name to be used literally, and no substitution will take place. This is <i class="FIRSTTERM">full quoting</i>, sometimes referred to as 'strong quoting.' See <a href="quoting.html">Chapter 5</a> for a detailed discussion.</p>
          <p>Note that <tt class="USERINPUT"><b>$variable</b></tt> is actually a simplified form of <tt class="USERINPUT"><b>${variable}</b></tt>. In contexts where the <tt class="USERINPUT"><b>$variable</b></tt> syntax causes an error, the longer form may work (see <a href="parameter-substitution.html">Section 10.2</a>, below).</p>
          <p><a name="VARUNSETTING" id="VARUNSETTING"></a></p>
          <div class="EXAMPLE">
            <a name="EX9" id="EX9"></a>
            <p><b>Example 4-1. Variable assignment and substitution</b></p>
            <table border="0" bgcolor="#E0E0E0" width="90%">
              <tbody><tr>
                <td>
                  <pre class="PROGRAMLISTING hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># ex9.sh</span>

<span class="hljs-comment"># Variables: assignment and substitution</span>

a=375
hello=<span class="hljs-variable">$a</span>
<span class="hljs-comment">#   ^ ^</span>

<span class="hljs-comment">#-------------------------------------------------------------------------</span>
<span class="hljs-comment"># No space permitted on either side of = sign when initializing variables.</span>
<span class="hljs-comment"># What happens if there is a space?</span>

<span class="hljs-comment">#  "VARIABLE =value"</span>
<span class="hljs-comment">#           ^</span>
<span class="hljs-comment">#% Script tries to run "VARIABLE" command with one argument, "=value".</span>

<span class="hljs-comment">#  "VARIABLE= value"</span>
<span class="hljs-comment">#            ^</span>
<span class="hljs-comment">#% Script tries to run "value" command with</span>
<span class="hljs-comment">#+ the environmental variable "VARIABLE" set to "".</span>
<span class="hljs-comment">#-------------------------------------------------------------------------</span>


<span class="hljs-built_in">echo</span> hello    <span class="hljs-comment"># hello</span>
<span class="hljs-comment"># Not a variable reference, just the string "hello" ...</span>

<span class="hljs-built_in">echo</span> <span class="hljs-variable">$hello</span>   <span class="hljs-comment"># 375</span>
<span class="hljs-comment">#    ^          This *is* a variable reference.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">${hello}</span> <span class="hljs-comment"># 375</span>
<span class="hljs-comment">#               Likewise a variable reference, as above.</span>

<span class="hljs-comment"># Quoting . . .</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$hello</span>"</span>    <span class="hljs-comment"># 375</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${hello}</span>"</span>  <span class="hljs-comment"># 375</span>

<span class="hljs-built_in">echo</span>

hello=<span class="hljs-string">"A B  C   D"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$hello</span>   <span class="hljs-comment"># A B C D</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$hello</span>"</span> <span class="hljs-comment"># A B  C   D</span>
<span class="hljs-comment"># As we see, echo $hello   and   echo "$hello"   give different results.</span>
<span class="hljs-comment"># =======================================</span>
<span class="hljs-comment"># Quoting a variable preserves whitespace.</span>
<span class="hljs-comment"># =======================================</span>

<span class="hljs-built_in">echo</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">'$hello'</span>  <span class="hljs-comment"># $hello</span>
<span class="hljs-comment">#    ^      ^</span>
<span class="hljs-comment">#  Variable referencing disabled (escaped) by single quotes,</span>
<span class="hljs-comment">#+ which causes the "$" to be interpreted literally.</span>

<span class="hljs-comment"># Notice the effect of different types of quoting.</span>


hello=    <span class="hljs-comment"># Setting it to a null value.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"\$hello (null value) = <span class="hljs-variable">$hello</span>"</span>      <span class="hljs-comment"># $hello (null value) =</span>
<span class="hljs-comment">#  Note that setting a variable to a null value is not the same as</span>
<span class="hljs-comment">#+ unsetting it, although the end result is the same (see below).</span>

<span class="hljs-comment"># --------------------------------------------------------------</span>

<span class="hljs-comment">#  It is permissible to set multiple variables on the same line,</span>
<span class="hljs-comment">#+ if separated by white space.</span>
<span class="hljs-comment">#  Caution, this may reduce legibility, and may not be portable.</span>

var1=21  var2=22  var3=<span class="hljs-variable">$V3</span>
<span class="hljs-built_in">echo</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"var1=<span class="hljs-variable">$var1</span>   var2=<span class="hljs-variable">$var2</span>   var3=<span class="hljs-variable">$var3</span>"</span>

<span class="hljs-comment"># May cause problems with legacy versions of "sh" . . .</span>

<span class="hljs-comment"># --------------------------------------------------------------</span>

<span class="hljs-built_in">echo</span>; <span class="hljs-built_in">echo</span>

numbers=<span class="hljs-string">"one two three"</span>
<span class="hljs-comment">#           ^   ^</span>
other_numbers=<span class="hljs-string">"1 2 3"</span>
<span class="hljs-comment">#               ^ ^</span>
<span class="hljs-comment">#  If there is whitespace embedded within a variable,</span>
<span class="hljs-comment">#+ then quotes are necessary.</span>
<span class="hljs-comment">#  other_numbers=1 2 3                  # Gives an error message.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"numbers = <span class="hljs-variable">$numbers</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"other_numbers = <span class="hljs-variable">$other_numbers</span>"</span>   <span class="hljs-comment"># other_numbers = 1 2 3</span>
<span class="hljs-comment">#  Escaping the whitespace also works.</span>
mixed_bag=2\ ---\ Whatever
<span class="hljs-comment">#           ^    ^ Space after escape (\).</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$mixed_bag</span>"</span>         <span class="hljs-comment"># 2 --- Whatever</span>

<span class="hljs-built_in">echo</span>; <span class="hljs-built_in">echo</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"uninitialized_variable = <span class="hljs-variable">$uninitialized_variable</span>"</span>
<span class="hljs-comment"># Uninitialized variable has null value (no value at all!).</span>
uninitialized_variable=   <span class="hljs-comment">#  Declaring, but not initializing it --</span>
                          <span class="hljs-comment">#+ same as setting it to a null value, as above.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"uninitialized_variable = <span class="hljs-variable">$uninitialized_variable</span>"</span>
                          <span class="hljs-comment"># It still has a null value.</span>

uninitialized_variable=23       <span class="hljs-comment"># Set it.</span>
<span class="hljs-built_in">unset</span> uninitialized_variable    <span class="hljs-comment"># Unset it.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"uninitialized_variable = <span class="hljs-variable">$uninitialized_variable</span>"</span>
                                <span class="hljs-comment"># uninitialized_variable =</span>
                                <span class="hljs-comment"># It still has a null value.</span>
<span class="hljs-built_in">echo</span>

<span class="hljs-built_in">exit</span> 0</pre>
                </td>
              </tr>
            </tbody></table>
          </div>
          <div class="CAUTION">
            <table class="CAUTION" width="90%" border="0">
              <tbody><tr>
                <td width="25" align="center" valign="top"><img src="images/caution.gif" hspace="5" alt="Caution"></td>
                <td align="left" valign="top">
                  <p><a name="UNINITVAR1" id="UNINITVAR1"></a></p>
                  <p>An uninitialized variable has a <span class="QUOTE">"null"</span> value -- no assigned value at all (<em>not</em> zero!).</p>
                  <table border="0" bgcolor="#E0E0E0" width="90%">
                    <tbody><tr>
                      <td>
                        <pre class="PROGRAMLISTING hljs"><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$unassigned</span>"</span> ]
<span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"\$unassigned is NULL."</span>
<span class="hljs-keyword">fi</span>     <span class="hljs-comment"># $unassigned is NULL.</span></pre>
                      </td>
                    </tr>
                  </tbody></table>
                  <p>Using a variable before assigning a value to it may cause problems. It is nevertheless possible to perform arithmetic operations on an uninitialized variable.</p>
                  <table border="0" bgcolor="#E0E0E0" width="90%">
                    <tbody><tr>
                      <td>
                        <pre class="PROGRAMLISTING hljs"><span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$uninitialized</span>"</span>                                <span class="hljs-comment"># (blank line)</span>
<span class="hljs-built_in">let</span> <span class="hljs-string">"uninitialized += 5"</span>                             <span class="hljs-comment"># Add 5 to it.</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$uninitialized</span>"</span>                                <span class="hljs-comment"># 5</span>

<span class="hljs-comment">#  Conclusion:</span>
<span class="hljs-comment">#  An uninitialized variable has no value,</span>
<span class="hljs-comment">#+ however it evaluates as 0 in an arithmetic operation.</span></pre>
                      </td>
                    </tr>
                  </tbody></table>See also <a href="internal.html#SELFSOURCE">Example 15-23</a>.
                </td>
              </tr>
            </tbody></table>
          </div>
        </dd>
      </dl>
    </div>
  </div>
  <h3 class="FOOTNOTES">Notes</h3>
  <table border="0" class="FOOTNOTES" width="100%">
    <tbody><tr>
      <td align="left" valign="top" width="5%"><a name="FTN.AEN2258" href="varsubn.html#AEN2258" id="FTN.AEN2258"><span class="footnote">[1]</span></a></td>
      <td align="left" valign="top" width="95%">
        <p><a name="LVALUEREF" id="LVALUEREF"></a>Technically, the <i class="FIRSTTERM">name</i> of a variable is called an <i class="FIRSTTERM">lvalue</i>, meaning that it appears on the <em>left</em> side of an assignment statment, as in <tt class="USERINPUT"><b>VARIABLE=23</b></tt>. A variable's <i class="FIRSTTERM">value</i> is an <i class="FIRSTTERM">rvalue</i>, meaning that it appears on the <em>right</em> side of an assignment statement, as in <tt class="USERINPUT"><b>VAR2=$VARIABLE</b></tt>.</p>
        <p><a name="POINTERREF" id="POINTERREF"></a>A variable's <i class="FIRSTTERM">name</i> is, in fact, a <i class="FIRSTTERM">reference</i>, a <i class="FIRSTTERM">pointer</i> to the memory location(s) where the actual data associated with that variable is kept.</p>
      </td>
    </tr>
  </tbody></table>
  <div class="NAVFOOTER">
    <hr align="left" width="100%">
    <table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tbody><tr>
        <td width="33%" align="left" valign="top"><a href="variables.html" accesskey="P">Prev</a></td>
        <td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>
        <td width="33%" align="right" valign="top"><a href="varassignment.html" accesskey="N">Next</a></td>
      </tr>
      <tr>
        <td width="33%" align="left" valign="top">Introduction to Variables and Parameters</td>
        <td width="34%" align="center" valign="top"><a href="variables.html" accesskey="U">Up</a></td>
        <td width="33%" align="right" valign="top">Variable Assignment</td>
      </tr>
    </tbody></table>
  </div>


<button id="theme-toggle">Toggle theme</button></body></html>
