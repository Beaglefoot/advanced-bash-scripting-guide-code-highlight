<!DOCTYPE html><html><head>
  <meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.7.28">
  <title>Arithmetic Expansion</title>
  <meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7">
  <link rel="HOME" title="Advanced Bash-Scripting Guide" href="index.html">
  <link rel="UP" title="Beyond the Basics" href="part3.html">
  <link rel="PREVIOUS" title="Command Substitution" href="commandsub.html">
  <link rel="NEXT" title="Recess Time" href="recess-time.html">
<link rel="stylesheet" href="styles/custom.css"><link rel="stylesheet" href="styles/atom-one-dark.css"><script>
    document.addEventListener('DOMContentLoaded', () => {
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark-mode');
      }

      document.getElementById('theme-toggle').addEventListener(
        'click',
        () => document.body.classList.toggle('dark-mode')
      );
    });
  </script></head>
<body class="CHAPTER" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084" alink="#0000FF">
  <div class="NAVHEADER">
    <table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tbody><tr>
        <th colspan="3" align="center">Advanced Bash-Scripting Guide:</th>
      </tr>
      <tr>
        <td width="10%" align="left" valign="bottom"><a href="commandsub.html" accesskey="P">Prev</a></td>
        <td width="80%" align="center" valign="bottom"></td>
        <td width="10%" align="right" valign="bottom"><a href="recess-time.html" accesskey="N">Next</a></td>
      </tr>
    </tbody></table>
    <hr align="left" width="100%">
  </div>
  <div class="CHAPTER">
    <h1><a name="ARITHEXP" id="ARITHEXP"></a>Chapter 13. Arithmetic Expansion</h1>
    <p><a name="ARITHEXPREF" id="ARITHEXPREF"></a>Arithmetic expansion provides a powerful tool for performing (integer) arithmetic operations in scripts. Translating a string into a numerical expression is relatively straightforward using <i class="FIRSTTERM">backticks</i>, <i class="FIRSTTERM">double parentheses</i>, or <i class="FIRSTTERM">let</i>.</p>
    <div class="VARIABLELIST">
      <p><b><a name="ARITHEXPVAR1" id="ARITHEXPVAR1"></a>Variations</b></p>
      <dl>
        <dt>Arithmetic expansion with <a href="commandsub.html#BACKQUOTESREF">backticks</a> (often used in conjunction with <a href="moreadv.html#EXPRREF">expr</a>)</dt>
        <dd>
          <table border="0" bgcolor="#E0E0E0" width="90%">
            <tbody><tr>
              <td>
                <pre class="PROGRAMLISTING hljs">z=`expr <span class="hljs-variable">$z</span> + 3`          <span class="hljs-comment"># The 'expr' command performs the expansion.</span></pre>
              </td>
            </tr>
          </tbody></table>
        </dd>
        <dt>Arithmetic expansion with <a href="dblparens.html">double parentheses</a>, and using <a href="internal.html#LETREF">let</a></dt>
        <dd>
          <p>The use of <i class="FIRSTTERM">backticks</i> (<i class="FIRSTTERM">backquotes</i>) in arithmetic expansion has been superseded by <i class="FIRSTTERM">double parentheses</i> -- <tt class="USERINPUT"><b>((...))</b></tt> and <tt class="USERINPUT"><b>$((...))</b></tt> -- and also by the very convenient <a href="internal.html#LETREF">let</a> construction.</p>
          <table border="0" bgcolor="#E0E0E0" width="90%">
            <tbody><tr>
              <td>
                <pre class="PROGRAMLISTING hljs">z=$((<span class="hljs-variable">$z</span>+<span class="hljs-number">3</span>))
z=$((z+<span class="hljs-number">3</span>))                                  <span class="hljs-comment">#  Also correct.</span>
                                            <span class="hljs-comment">#  Within double parentheses,</span>
                                            <span class="hljs-comment">#+ parameter dereferencing</span>
                                            <span class="hljs-comment">#+ is optional.</span>

<span class="hljs-comment"># $((EXPRESSION)) is arithmetic expansion.  #  Not to be confused with</span>
                                            <span class="hljs-comment">#+ command substitution.</span>



<span class="hljs-comment"># You may also use operations within double parentheses without assignment.</span>

  n=0
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"n = <span class="hljs-variable">$n</span>"</span>                             <span class="hljs-comment"># n = 0</span>

  (( n += 1 ))                              <span class="hljs-comment"># Increment.</span>
<span class="hljs-comment"># (( $n += 1 )) is incorrect!</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"n = <span class="hljs-variable">$n</span>"</span>                             <span class="hljs-comment"># n = 1</span>


<span class="hljs-built_in">let</span> z=z+3
<span class="hljs-built_in">let</span> <span class="hljs-string">"z += 3"</span>  <span class="hljs-comment">#  Quotes permit the use of spaces in variable assignment.</span>
              <span class="hljs-comment">#  The 'let' operator actually performs arithmetic evaluation,</span>
              <span class="hljs-comment">#+ rather than expansion.</span></pre>
              </td>
            </tr>
          </tbody></table>
          <p>Examples of arithmetic expansion in scripts:</p>
          <ol type="1">
            <li>
              <p><a href="moreadv.html#EX45">Example 16-9</a></p>
            </li>
            <li>
              <p><a href="loops1.html#EX25">Example 11-15</a></p>
            </li>
            <li>
              <p><a href="arrays.html#EX66">Example 27-1</a></p>
            </li>
            <li>
              <p><a href="arrays.html#BUBBLE">Example 27-11</a></p>
            </li>
            <li>
              <p><a href="contributed-scripts.html#TREE">Example A-16</a></p>
            </li>
          </ol>
        </dd>
      </dl>
    </div>
  </div>
  <div class="NAVFOOTER">
    <hr align="left" width="100%">
    <table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tbody><tr>
        <td width="33%" align="left" valign="top"><a href="commandsub.html" accesskey="P">Prev</a></td>
        <td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>
        <td width="33%" align="right" valign="top"><a href="recess-time.html" accesskey="N">Next</a></td>
      </tr>
      <tr>
        <td width="33%" align="left" valign="top">Command Substitution</td>
        <td width="34%" align="center" valign="top"><a href="part3.html" accesskey="U">Up</a></td>
        <td width="33%" align="right" valign="top">Recess Time</td>
      </tr>
    </tbody></table>
  </div>


<button id="theme-toggle">Toggle theme</button></body></html>
